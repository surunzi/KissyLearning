/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 13 14:13
*/
KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(x,k,r,t){x=k("./base/api");k("./base/attr");k("./base/class");k("./base/create");k("./base/data");k("./base/insertion");k("./base/offset");k("./base/style");k("./base/selector");k("./base/traversal");t.exports=x});
KISSY.add("dom/base/api",["util","ua"],function(x,k,r,t){var m=k("util"),d=window,j=d.document,l=k("ua"),e={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},h=t.exports={isCustomDomain:function(a){var a=a||d,a=h.get(a),g=a.document.domain,a=a.location.hostname;return g!==a&&g!=="["+a+"]"},getEmptyIframeSrc:function(a){a=
a||d;a=h.get(a);return l.ie&&h.isCustomDomain(a)?"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+a.document.domain+'";document.close();')+"}())":""},NodeType:e,getWindow:function(a){if(!a)return d;a=h.get(a);if(m.isWindow(a))return a;var g=a;g.nodeType!==e.DOCUMENT_NODE&&(g=a.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(a){if(!a)return j;a=h.get(a);return m.isWindow(a)?a.document:a.nodeType===e.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&
!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var d=h.get(a),a=d.nodeName.toLowerCase();l.ie&&(d=d.scopeName)&&"HTML"!==d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")}});
KISSY.add("dom/base/attr",["util","./api"],function(x,k){function r(a){return null==a?"":a+""}function t(a,b){var b=c[b]||b,d=v[b];return d&&d.get?d.get(a,b):a[b]}var m=k("util"),d=k("./api"),j=document,l=d.NodeType,j=j&&j.documentElement,e=d.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a=/^(?:button|input|object|select|textarea)$/i,g=/^a(?:rea)?$/i,n=/:|^on/,f=/\r/g,b={},o={val:1,css:1,html:1,text:1,data:1,
width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):a.test(b.nodeName)||g.test(b.nodeName)&&b.href?0:void 0}}},c={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
i={get:function(a,b){return d.prop(a,b)?b.toLowerCase():void 0},set:function(a,b,f){!1===b?d.removeAttr(a,f):(b=c[f]||f,b in a&&(a[b]=!0),a.setAttribute(f,f.toLowerCase()));return f}},v={},s={},w={select:{get:function(a){var b=a.selectedIndex,c=a.options,f;if(0>b)return null;if("select-one"===""+a.type)return d.val(c[b]);a=[];b=0;for(f=c.length;b<f;++b)c[b].selected&&a.push(d.val(c[b]));return a},set:function(a,b){var c=m.makeArray(b);m.each(a.options,function(a){a.selected=m.inArray(d.val(a),c)});
c.length||(a.selectedIndex=-1);return c}}};m.each(["radio","checkbox"],function(a){w[a]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(a,b){if(m.isArray(b))return a.checked=m.inArray(d.val(a),b),1}}});y.style={get:function(a){return a.style.cssText}};m.mix(d,{_valHooks:w,_propFix:c,_attrHooks:y,_propHooks:v,_attrNodeHook:s,_attrFix:b,prop:function(a,b,f){var i=d.query(a),g,e;if("object"===typeof b)m.each(b,function(a,b){d.prop(i,b,a)});else if(b=c[b]||b,e=v[b],void 0!==
f)for(a=i.length-1;0<=a;a--)g=i[a],e&&e.set?e.set(g,f,b):g[b]=f;else if(i.length)return t(i[0],b)},hasProp:function(a,b){var c=d.query(a),f,i=c.length,g;for(f=0;f<i;f++)if(g=c[f],void 0!==t(g,b))return!0;return!1},removeProp:function(a,b){var b=c[b]||b,f=d.query(a),i,g;for(i=f.length-1;0<=i;i--){g=f[i];try{g[b]=void 0,delete g[b]}catch(e){}}},attr:function(a,c,f,g){var j=d.query(a),v=j[0];if("object"===typeof c){var g=f,p;for(p in c)d.attr(j,p,c[p],g)}else{if(g&&o[c])return d[c](a,f);c=c.toLowerCase();
if(g&&o[c])return d[c](a,f);c=b[c]||c;a=h.test(c)?i:n.test(c)?s:y[c];if(void 0===f){if(v&&v.nodeType===l.ELEMENT_NODE){"form"===e(v)&&(a=s);if(a&&a.get)return a.get(v,c);f=v.getAttribute(c);return""===f&&(c=v.getAttributeNode(c),!c||!c.specified)?void 0:null===f?void 0:f}}else for(g=j.length-1;0<=g;g--)if((v=j[g])&&v.nodeType===l.ELEMENT_NODE)"form"===e(v)&&(a=s),a&&a.set?a.set(v,f,c):v.setAttribute(c,""+f)}},removeAttr:function(a,f){var f=f.toLowerCase(),f=b[f]||f,i=d.query(a),g,e,o;for(o=i.length-
1;0<=o;o--)if(e=i[o],e.nodeType===l.ELEMENT_NODE&&(e.removeAttribute(f),h.test(f)&&(g=c[f]||f)in e))e[g]=!1},hasAttr:j&&!j.hasAttribute?function(a,b){var b=b.toLowerCase(),c=d.query(a),f,i;for(f=0;f<c.length;f++)if(i=c[f],(i=i.getAttributeNode(b))&&i.specified)return!0;return!1}:function(a,b){var c=d.query(a),f,i=c.length;for(f=0;f<i;f++)if(c[f].hasAttribute(b))return!0;return!1},val:function(a,b){var c,i,g,o,p;if(void 0===b){if(g=d.get(a)){if((c=w[e(g)]||w[g.type])&&"get"in c&&void 0!==(i=c.get(g,
"value")))return i;i=g.value;return"string"===typeof i?i.replace(f,""):null==i?"":i}}else{i=d.query(a);for(o=i.length-1;0<=o;o--){g=i[o];if(1!==g.nodeType)break;p=b;null==p?p="":"number"===typeof p?p+="":m.isArray(p)&&(p=m.map(p,r));c=w[e(g)]||w[g.type];if(!(c&&"set"in c)||void 0===c.set(g,p,"value"))g.value=p}}},text:function(a,b){var c,f,i,g;if(void 0===b)return c=d.get(a),d._getText(c);f=d.query(a);for(i=f.length-1;0<=i;i--)if(c=f[i],g=c.nodeType,g===l.ELEMENT_NODE)d.cleanData(c.getElementsByTagName("*")),
"textContent"in c?c.textContent=b:c.innerText=b;else if(g===l.TEXT_NODE||g===l.CDATA_SECTION_NODE)c.nodeValue=b},_getText:function(a){return a.textContent}})});
KISSY.add("dom/base/class",["./api","util"],function(x,k){function r(a){for(var a=j.trim(a||""),a=a.split(h),g=[],d,f=a.length,b=0;b<f;b++)(d=a[b])&&g.push(d);return g}function t(a){return function(g,d){var f,b,e,h=g.classList,c=l.call(arguments,2);f=0;for(b=d.length;f<b;f++)(e=d[f])&&h[a].apply(h,[e].concat(c))}}function m(a){return function(g,h){var f=r(h),b=l.call(arguments,2);d.query(g).each(function(g){g.nodeType===e.ELEMENT_NODE&&d[a].apply(d,[g,f].concat(b))})}}var d=k("./api"),j=k("util"),
l=[].slice,e=d.NodeType,h=/[\.\s]\s*\.?/;j.mix(d,{_hasClass:function(a,g){var d,f,b,e=a.classList;if(e.length){d=0;for(f=g.length;d<f;d++)if((b=g[d])&&!e.contains(b))return!1;return!0}return!1},_addClass:t("add"),_removeClass:t("remove"),_toggleClass:t("toggle"),hasClass:function(a,g){var h=!1,g=r(g);d.query(a).each(function(a){if(a.nodeType===e.ELEMENT_NODE&&d._hasClass(a,g))return h=!0,!1});return h},replaceClass:function(a,g,e){d.removeClass(a,g);d.addClass(a,e)},addClass:m("_addClass"),removeClass:m("_removeClass"),
toggleClass:m("_toggleClass")})});
KISSY.add("dom/base/create",["util","logger-manager","./api","ua"],function(x,k,r,t){function m(a,c){var f=a&&a!==n?a.createElement(b):o;c&&f===o&&(f.innerHTML="");return f}function d(a,c){var b=m(c);b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function j(a,c){if(c)if(s&&c.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(b){}for(var f;f=a.lastChild;)j(f,a)}a.removeNode(!1)}else c.removeChild(a)}function l(a,c,b){var i=c.nodeType;if(i===f.DOCUMENT_FRAGMENT_NODE){c=
c.childNodes;b=b.childNodes;for(i=0;c[i];)b[i]&&l(a,c[i],b[i]),i++}else if(i===f.ELEMENT_NODE){c=c.getElementsByTagName("*");b=b.getElementsByTagName("*");for(i=0;c[i];)b[i]&&a(c[i],b[i]),i++}}function e(a,c){var b=t.require("event/dom"),i,d;if(c.nodeType!==f.ELEMENT_NODE||g.hasData(a)){i=g.data(a);for(d in i)g.data(c,d,i[d]);b&&b.clone(a,c)}}function h(c){var b=null,f,i;if(c&&(c.push||c.item)&&c[0]){b=c[0].ownerDocument;b=b.createDocumentFragment();c=a.makeArray(c);f=0;for(i=c.length;f<i;f++)b.appendChild(c[f])}return b}
var a=k("util");k("logger-manager");var g=k("./api"),n=document,f=g.NodeType,x=k("ua").ieMode,b="div",o=n&&n.createElement(b),y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,c=/<([\w:]+)/,i=/^\s+/,v=/\s+$/,s=!!(x&&9>x),w=s,H=/<|&#?\w+;/,C=n&&"outerHTML"in n.documentElement,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,F=g._creators={div:d},u={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},
B;for(B in u)(function(c){F[B]=function(b,f){return g.create(a.substitute("<{tag}>{html}</{tag}>",{tag:c,html:b}),void 0,f)}})(u[B]);F.option=F.optgroup=function(a,c){return g.create('<select multiple="multiple">'+a+"</select>",void 0,c)};a.mix(g,{create:function(e,q,D,o){var A=null;if(!e)return A;if(e.nodeType)return g.clone(e);if("string"!==typeof e)return A;void 0===o&&(o=!0);o&&(e=a.trim(e));var o=g._creators,j,z,D=D||n,J,L=b;if(H.test(e))if(J=I.exec(e))A=D.createElement(J[1]);else{e=e.replace(y,
"<$1></$2>");if((J=c.exec(e))&&(j=J[1]))L=j.toLowerCase();j=(o[L]||d)(e,D);w&&(z=e.match(i))&&j.insertBefore(D.createTextNode(z[0]),j.firstChild);w&&/\S/.test(e)&&(z=e.match(v))&&j.appendChild(D.createTextNode(z[0]));e=j.childNodes;1===e.length?A=e[0].parentNode.removeChild(e[0]):e.length&&(A=h(e))}else A=D.createTextNode(e);q&&(e=A.nodeType,e===f.ELEMENT_NODE?g.attr(A,q,!0):e===f.DOCUMENT_FRAGMENT_NODE&&g.attr(A.childNodes,q,!0));return q=A},_fixCloneAttributes:function(a,c){var b=a.nodeName.toLowerCase(),
f=(a.type||"").toLowerCase();if("textarea"===b)c.defaultValue=a.defaultValue,c.value=a.value;else if("input"===b&&("checkbox"===f||"radio"===f)){if(b=a.checked)c.defaultChecked=c.checked=b;b=a.value;c.value!==b&&(c.value=b)}},_defaultCreator:d,html:function(a,b,d){var a=g.query(a),e=a[0],o=!1,h,z;if(!e)return null;if(void 0===b)return e.nodeType===f.ELEMENT_NODE?e.innerHTML:e.nodeType===f.DOCUMENT_FRAGMENT_NODE?(d=m(e.ownerDocument,1),d.appendChild(e),d.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&
(!w||!b.match(i))&&!u[(b.match(c)||["",""])[1].toLowerCase()])try{for(h=a.length-1;0<=h;h--)z=a[h],z.nodeType===f.ELEMENT_NODE&&(g.cleanData(z.getElementsByTagName("*")),z.innerHTML=b);o=!0}catch(J){}o||(b=g.create(b,0,e.ownerDocument,0),g.empty(a),g.append(b,a,d))},outerHtml:function(a,c,b){var a=g.query(a),i=a.length,d=a[0];if(!d)return null;if(void 0===c){if(C&&d.nodeType!==f.DOCUMENT_FRAGMENT_NODE)return d.outerHTML;c=m(d.ownerDocument,1);c.appendChild(g.clone(d,!0));return c.innerHTML}c+="";
if(!c.match(/<(?:script|style|link)/i)&&C)for(b=i-1;0<=b;b--)d=a[b],d.nodeType===f.ELEMENT_NODE&&(g.cleanData(d,1),d.outerHTML=c);else c=g.create(c,0,d.ownerDocument,0),g.insertBefore(c,a,b),g.remove(a)},remove:function(c,b){var i,d=g.query(c),e,h=t.require("event/dom"),z;for(z=d.length-1;0<=z;z--)i=d[z],!b&&i.nodeType===f.ELEMENT_NODE&&(e=a.makeArray(i.getElementsByTagName("*")),e.push(i),g.removeData(e),h&&h.detach(e)),j(i,i.parentNode)},clone:function(a,c,b,i){"object"===typeof c&&(i=c.deepWithDataAndEvent,
b=c.withDataAndEvent,c=c.deep);var a=g.get(a),d,h=g._fixCloneAttributes,z;if(!a)return null;z=a.nodeType;d=a.cloneNode(c);if(z===f.ELEMENT_NODE||z===f.DOCUMENT_FRAGMENT_NODE)h&&z===f.ELEMENT_NODE&&h(a,d),c&&h&&l(h,a,d);b&&(e(a,d),c&&i&&l(e,a,d));return d},empty:function(a){var a=g.query(a),c,b;for(b=a.length-1;0<=b;b--)c=a[b],g.remove(c.childNodes)},_nodeListToFragment:h});g.outerHTML=g.outerHtml});
KISSY.add("dom/base/data",["util","./api"],function(x,k,r,t){var m=k("util"),d=k("./api"),j=window,l="_ks_data_"+m.now(),e={},h={},a={applet:1,object:1,embed:1},g={hasData:function(a,f){if(a)if(void 0!==f){if(f in a)return!0}else if(!m.isEmptyObject(a))return!0;return!1}},n={hasData:function(a,f){return a==j?n.hasData(h,f):g.hasData(a[l],f)},data:function(a,f,d){if(a==j)return n.data(h,f,d);var c=a[l];if(void 0!==d)c=a[l]=a[l]||{},c[f]=d;else return void 0!==f?c&&c[f]:c=a[l]=a[l]||{}},removeData:function(a,
f){if(a==j)return n.removeData(h,f);var d=a[l];if(void 0!==f)delete d[f],m.isEmptyObject(d)&&n.removeData(a);else try{delete a[l]}catch(c){a[l]=void 0}}},f={hasData:function(a,f){var d=a[l];return!d?!1:g.hasData(e[d],f)},data:function(b,f,d){if(!a[b.nodeName.toLowerCase()]){var c=b[l];if(!c){if(void 0!==f&&void 0===d)return;c=b[l]=m.guid()}b=e[c];if(void 0!==d)b=e[c]=e[c]||{},b[f]=d;else return void 0!==f?b&&b[f]:b=e[c]=e[c]||{}}},removeData:function(a,d){var g=a[l],c;if(g)if(c=e[g],void 0!==d)delete c[d],
m.isEmptyObject(c)&&f.removeData(a);else{delete e[g];try{delete a[l]}catch(i){a[l]=void 0}a.removeAttribute&&a.removeAttribute(l)}}};m.mix(d,{__EXPANDO:l,hasData:function(a,e){for(var g=!1,c=d.query(a),i=0;i<c.length&&!(g=c[i],g=g.nodeType?f.hasData(g,e):n.hasData(g,e));i++);return g},data:function(a,e,g){var a=d.query(a),c=a[0];if("object"===typeof e)for(var i in e)d.data(a,i,e[i]);else if(void 0===g){if(c)return c.nodeType?f.data(c,e):n.data(c,e)}else for(i=a.length-1;0<=i;i--)c=a[i],c.nodeType?
f.data(c,e,g):n.data(c,e,g)},removeData:function(a,e){var g=d.query(a),c,i;for(i=g.length-1;0<=i;i--)c=g[i],c.nodeType?f.removeData(c,e):n.removeData(c,e)},cleanData:function(a,e){var g=d.query(a),c,i,h=t.require("event/dom");for(i=g.length-1;0<=i;i--)if(c=g[i],c.nodeType){var j=e&&m.makeArray(c.getElementsByTagName("*"))||[];j.push(c);c=0;for(var w=j.length;c<w;c++)f.removeData(j[c]);h&&h.detach(j)}else n.removeData(c)}})});
KISSY.add("dom/base/insertion",["util","./api"],function(x,k){function r(f,b){var d=[],j,c,i;for(j=0;f[j];j++)if(c=f[j],i=h(c),c.nodeType===l.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,r(a(c.childNodes),b));else if("script"===i&&(!c.type||n.test(c.type)))c.parentNode&&c.parentNode.removeChild(c),b&&b.push(c);else{if(c.nodeType===l.ELEMENT_NODE&&!e.test(i)){i=[];var v,s,w=c.getElementsByTagName("script");for(s=0;s<w.length;s++)v=w[s],(!v.type||n.test(v.type))&&i.push(v);g.apply(f,[j+1,0].concat(i))}d.push(c)}return d}
function t(a){a.src?k.load(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function m(a,b,e,g){a=j.query(a);g&&(g=[]);a=r(a,g);j._fixInsertionChecked&&j._fixInsertionChecked(a);var b=j.query(b),c,i,h,s,w=b.length;if((a.length||g&&g.length)&&w){a=j._nodeListToFragment(a);1<w&&(s=j.clone(a,!0),b=d.makeArray(b));for(c=0;c<w;c++)i=b[c],a&&(h=0<c?j.clone(s,!0):a,e(h,i)),g&&g.length&&d.each(g,t)}}var d=k("util"),j=k("./api"),l=j.NodeType,e=/^(?:button|input|object|select|textarea)$/i,
h=j.nodeName,a=d.makeArray,g=[].splice,n=/\/(java|ecma)script/i;d.mix(j,{_fixInsertionChecked:null,insertBefore:function(a,b,d){m(a,b,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,b,d){m(a,b,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},d)},appendTo:function(a,b,d){m(a,b,function(a,c){c.appendChild(a)},d)},prependTo:function(a,b,d){m(a,b,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(a,b){b=j.clone(j.get(b),!0);
a=j.query(a);a[0].parentNode&&j.insertBefore(b,a[0]);for(var d;(d=b.firstChild)&&1===d.nodeType;)b=d;j.appendTo(a,b)},wrap:function(a,b){a=j.query(a);b=j.get(b);d.each(a,function(a){j.wrapAll(a,b)})},wrapInner:function(a,b){a=j.query(a);b=j.get(b);d.each(a,function(a){var d=a.childNodes;d.length?j.wrapAll(d,b):a.appendChild(b)})},unwrap:function(a){a=j.query(a);d.each(a,function(a){a=a.parentNode;j.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var d=j.query(a),b=j.query(b);j.remove(b,!0);
j.insertBefore(b,d);j.remove(d)}});d.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){j[b]=j[a]})});
KISSY.add("dom/base/offset",["util","./api","ua"],function(x,k){function r(c){var d,g=c.ownerDocument.body;if(!c.getBoundingClientRect)return{left:0,top:0};d=c.getBoundingClientRect();c=d[f];d=d[b];c-=a.clientLeft||g.clientLeft||0;d-=a.clientTop||g.clientTop||0;return{left:c,top:d}}function t(a,b){var e={left:0,top:0},f=g(a),h,j=a,b=b||f;do{if(f==b){var l=j;h=r(l);l=g(l);h.left+=d[o](l);h.top+=d[y](l)}else h=r(j);e.left+=h.left;e.top+=h.top}while(f&&f!=b&&(j=f.frameElement)&&(f=f.parent));return e}
var m=k("util"),d=k("./api"),j=window,l=k("ua"),e=j.document,h=d.NodeType,a=e&&e.documentElement,g=d.getWindow,n=Math.max,f="left",b="top",o="scrollLeft",y="scrollTop";m.mix(d,{offset:function(a,b,e){if(void 0===b){var a=d.get(a),g;a&&(g=t(a,e));return g}e=d.query(a);for(g=e.length-1;0<=g;g--){var a=e[g],f=b;"static"===d.css(a,"position")&&(a.style.position="relative");var h=t(a),j={},l=void 0,m=void 0;for(m in f)l=parseFloat(d.css(a,m))||0,j[m]=l+f[m]-h[m];d.css(a,j)}},scrollIntoView:function(a,
e,j,l){var n,k,o,t;if(o=d.get(a)){e&&(e=d.get(e));e||(e=o.ownerDocument);e.nodeType===h.DOCUMENT_NODE&&(e=g(e));"object"===typeof j&&(l=j.allowHorizontalScroll,t=j.onlyScrollIfNeeded,j=j.alignWithTop);l=void 0===l?!0:l;k=m.isWindow(e);var a=d.offset(o),r=d.outerHeight(o);n=d.outerWidth(o);var u,y,p,q;k?(k=e,u=d.height(k),y=d.width(k),q={left:d.scrollLeft(k),top:d.scrollTop(k)},k=a[f]-q[f],o=a[b]-q[b],n=a[f]+n-(q[f]+y),a=a[b]+r-(q[b]+u)):(u=d.offset(e),y=e.clientHeight,p=e.clientWidth,q={left:d.scrollLeft(e),
top:d.scrollTop(e)},k=a[f]-(u[f]+(parseFloat(d.css(e,"borderLeftWidth"))||0)),o=a[b]-(u[b]+(parseFloat(d.css(e,"borderTopWidth"))||0)),n=a[f]+n-(u[f]+p+(parseFloat(d.css(e,"borderRightWidth"))||0)),a=a[b]+r-(u[b]+y+(parseFloat(d.css(e,"borderBottomWidth"))||0)));if(t){if(0>o||0<a)!0===j?d.scrollTop(e,q.top+o):!1===j?d.scrollTop(e,q.top+a):0>o?d.scrollTop(e,q.top+o):d.scrollTop(e,q.top+a)}else(j=void 0===j?!0:!!j)?d.scrollTop(e,q.top+o):d.scrollTop(e,q.top+a);if(l)if(t){if(0>k||0<n)!0===j?d.scrollLeft(e,
q.left+k):!1===j?d.scrollLeft(e,q.left+n):0>k?d.scrollLeft(e,q.left+k):d.scrollLeft(e,q.left+n)}else void 0===j||j?d.scrollLeft(e,q.left+k):d.scrollLeft(e,q.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});m.each(["Left","Top"],function(a,b){var e="scroll"+a;d[e]=function(f,l){if("number"===typeof f)return arguments.callee(j,f);var f=d.get(f),k,n,m,o;f&&f.nodeType===h.ELEMENT_NODE?void 0!==l?f[e]=parseFloat(l):k=f[e]:(o=g(f),void 0!==l?(l=parseFloat(l),
n="Left"===a?l:d.scrollLeft(o),m="Top"===a?l:d.scrollTop(o),o.scrollTo(n,m)):(k=o["page"+(b?"Y":"X")+"Offset"],"number"!==typeof k&&(n=o.document,k=n.documentElement[e],"number"!==typeof k&&(k=n.body[e]))));return k}});m.each(["Width","Height"],function(a){d["doc"+a]=function(b){b=d.get(b);b=d.getDocument(b);return n(b.documentElement["scroll"+a],b.body["scroll"+a],d["viewport"+a](b))};d["viewport"+a]=function(b){var b=d.get(b),e=g(b),b=e["inner"+a];if(l.mobile&&b)return b;var b="client"+a,e=e.document,
f=e.body,h=e.documentElement[b];return"CSS1Compat"===e.compatMode&&h||f&&f[b]||h}})});
KISSY.add("dom/base/style",["util","logger-manager","./api","feature","ua"],function(x,k){function r(a){if(B[a])return B[a];var b=n(a);return b&&b.propertyName||a}function t(a,b,c){var e={},d=a.style,f;for(f in b)e[f]=d[f],d[f]=b[f];c.call(a);for(f in b)d[f]=e[f]}function m(a,b,c){var e,d,f;if(!(3===a.nodeType||8===a.nodeType||!(e=a.style)))if(b=K(b),f=u[b],b=r(b),void 0!==c){null===c||c===C?c=C:!isNaN(Number(c))&&!H[b]&&(c+=I);f&&f.set&&(c=f.set(a,c));if(void 0!==c){try{e[b]=c}catch(g){}c===C&&e.removeAttribute&&
e.removeAttribute(b)}e.cssText||a.removeAttribute("style")}else{if(!f||!("get"in f&&void 0!==(d=f.get(a,!1))))d=e[b];return void 0===d?"":d}}function d(a){var b,c=arguments;0!==a.offsetWidth?b=e.apply(void 0,c):t(a,A,function(){b=e.apply(void 0,c)});return b}function j(b,c,e,d){var f=0,g,h,j;for(h=0;h<c.length;h++)if(g=c[h])for(j=0;j<e.length;j++)f+=parseFloat(a._getComputedStyle(b,"border"===g?g+e[j]+"Width":g+e[j],d))||0;return f}function l(a){var b=a.ownerDocument,c;b.defaultView&&(c=b.defaultView.getComputedStyle(a,
null));return c}function e(c,e,d){if(h.isWindow(c))return e===s?a.viewportWidth(c):a.viewportHeight(c);if(9===c.nodeType)return e===s?a.docWidth(c):a.docHeight(c);var g=e===s?["Left","Right"]:["Top","Bottom"],i=e===s?c.offsetWidth:c.offsetHeight,q=l(c),k="border-box"===a._getComputedStyle(c,"boxSizing",q),n=0;if(null==i||0>=i){i=void 0;n=a._getComputedStyle(c,e,q);if(null==n||0>Number(n))n=c.style[e]||0;n=parseFloat(n)||0}void 0===d&&(d=k?y:b);e=void 0!==i||k;i=i||n;return d===b?e?i-j(c,["border",
"padding"],g,q):n:e?i+(d===y?0:d===o?-j(c,["border"],g,q):j(c,["margin"],g,q)):n+j(c,f.slice(d),g,q)}var h=k("util");k("logger-manager");var a=k("./api"),g=window,n=k("feature").getCssVendorInfo;k("ua");var f=["margin","border","padding"],b=-1,o=2,y=1,c=a.nodeName,i=g.document||{},v=/^margin/,s="width",w="display"+h.now(),H={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},C="",I="px",F=/\d(?!px)[a-z%]+$/i,u={},B={},p={},q=n("userSelect"),D=q&&q.propertyName,K=
h.camelCase;B["float"]="cssFloat";h.mix(a,{_cssHooks:u,_cssProps:B,_getComputedStyle:function(c,b,e){var d="",f,g;f=c.ownerDocument;b=r(b);if(e=e||f.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];""===d&&!a.contains(f,c)&&(d=c.style[b]);a._RE_NUM_NO_PX.test(d)&&v.test(b)&&(g=c.style,c=g.width,b=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=e.width,g.width=c,g.minWidth=b,g.maxWidth=f);return d},style:function(b,c,e){var b=a.query(b),d,f=b[0];if("object"===typeof c)for(d in c)for(f=
b.length-1;0<=f;f--)m(b[f],d,c[d]);else{if(void 0===e)return d="",f&&(d=m(f,c,e)),d;for(f=b.length-1;0<=f;f--)m(b[f],c,e)}},css:function(b,c,e){var b=a.query(b),d=b[0],f;if("object"===typeof c)for(f in c)for(d=b.length-1;0<=d;d--)m(b[d],f,c[f]);else{c=K(c);f=u[c];if(void 0===e){e="";if(d&&(!f||!("get"in f&&void 0!==(e=f.get(d,!0)))))e=a._getComputedStyle(d,c);return"undefined"===typeof e?"":e}for(d=b.length-1;0<=d;d--)m(b[d],c,e)}},show:function(b){var b=a.query(b),c,e,d;for(d=b.length-1;0<=d;d--)if(e=
b[d],e.style.display=a.data(e,w)||C,"none"===a.css(e,"display")){c=e.tagName.toLowerCase();var f=void 0,g=p[c],h=void 0;p[c]||(f=i.body||i.documentElement,h=i.createElement(c),a.prepend(h,f),g=a.css(h,"display"),f.removeChild(h),p[c]=g);c=g;a.data(e,w,c);e.style.display=c}},hide:function(c){var c=a.query(c),b,e;for(e=c.length-1;0<=e;e--){b=c[e];var d=b.style,f=d.display;"none"!==f&&(f&&a.data(b,w,f),d.display="none")}},toggle:function(c){var c=a.query(c),b,e;for(e=c.length-1;0<=e;e--)b=c[e],"none"===
a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,b,e){"string"===typeof c&&(e=b,b=c,c=g);var c=a.getDocument(c),d;if(e&&(e=e.replace("#",C)))d=a.get("#"+e,c);d||(d=a.create("<style>",{id:e},c),a.get("head",c).appendChild(d),d.styleSheet?d.styleSheet.cssText=b:d.appendChild(c.createTextNode(b)))},unselectable:D?function(c){for(var c=a.query(c),b=c.length-1;0<=b;b--)c[b].style[D]="none"}:function(b){var b=a.query(b),e,d,f=0,g,i;g=["iframe","textarea","input","select"];for(d=b.length-
1;0<=d;d--){e=b[d];i=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=i[f++];)h.inArray(c(e),g)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});h.each([s,"height"],function(c){a["inner"+h.ucfirst(c)]=function(b){return(b=a.get(b))&&d(b,c,o)};a["outer"+h.ucfirst(c)]=function(b,e){var f=a.get(b);return f&&d(f,c,e?0:y)};var e=c===s?["Left","Right"]:["Top","Bottom"];a[c]=function(f,g){var h=a.get(f);if(void 0!==g){if(h){var i=
l(h);"border-box"===a._getComputedStyle(h,"boxSizing",i)&&(g+=j(h,["padding","border"],e,i));return a.css(h,c,g)}}else return h&&d(h,c,b)};u[c]={get:function(a,b){var e;b&&(e=d(a,c)+"px");return e}}});var A={position:"absolute",visibility:"hidden",display:"block"};h.each(["left","top"],function(c){u[c]={get:function(b,e){var d,f,g;if(e){g=a.css(b,"position");if("static"===g)return"auto";d=a._getComputedStyle(b,c);if((f="auto"===d)&&"relative"===g)return"0px";if(f||F.test(d)){g={top:0,left:0};if("fixed"===
a.css(b,"position"))f=b.getBoundingClientRect();else{for(d=b.offsetParent||(b.ownerDocument||i).body;d&&!N.test(d.nodeName)&&"static"===a.css(d,"position");)d=d.offsetParent;f=a.offset(b);g=a.offset(d);g.top+=parseFloat(a.css(d,"borderTopWidth"))||0;g.left+=parseFloat(a.css(d,"borderLeftWidth"))||0}f.top-=parseFloat(a.css(b,"marginTop"))||0;f.left-=parseFloat(a.css(b,"marginLeft"))||0;d={top:f.top-g.top,left:f.left-g.left}[c]+"px"}}return d}}});var N=/^(?:body|html)$/i});
KISSY.add("dom/base/selector",["./api","util"],function(x,k){function r(a){var c=this.length,b;for(b=0;b<c&&!1!==a(this[b],b);b++);}function t(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function m(a){return function(b){var c=g._getElementById(a,f);return c&&g._contains(b,c)?[c]:[]}}function d(a){return function(b){return b.getElementsByClassName(a)}}function j(a){return function(b){return b.getElementsByTagName(a)}}function l(a,b){var e,
h,k="string"===typeof a,o=void 0!==b?l(b):(h=1)&&[f],s=o.length;if(a)if(k){a=B(a);if(h)if("body"===a)e=[f.body];else if(H.test(a)&&y)e=i(f.getElementsByClassName(RegExp.$1));else if(F.test(a))e=(h=g._getElementById(RegExp.$2,f))&&h.nodeName.toLowerCase()===RegExp.$1?[h]:[];else if(C.test(a))e=(h=g._getElementById(a.substr(1),f))?[h]:[];else if(I.test(a))e=i(f.getElementsByTagName(a));else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&y){e=a.split(/\s+/);var p=o,
u,x;h=0;for(k=e.length;h<k;h++){u=e;x=h;var E;E=e[h];var G=E.charAt(0);E="#"===G?m(t(E)):"."===G?d(t(E)):j(E);u[x]=E}h=0;for(k=e.length;h<k;h++){E=e[h];var G=[],M;u=0;for(x=p.length;u<x;u++)M=E(p[u]),G.push.apply(G,i(M));p=G;if(!p.length)break}e=p&&1<p.length?g.unique(p):p}if(!e){e=[];for(h=0;h<s;h++)w.apply(e,g._selectInternal(a,o[h]));1<e.length&&1<s&&g.unique(e)}}else{if(e=a.nodeType||n.isWindow(a)?[a]:a.getDOMNodes?a.getDOMNodes():c(a)?a:v(a)?i(a):[a],!h){k=e;u=k.length;e=[];for(h=0;h<u;h++)for(p=
0;p<s;p++)if(g._contains(o[p],k[h])){e.push(k[h]);break}}}else e=[];e.each=r;return e}function e(a,b){var c=a&&h(a,"class");return c&&(c=c.replace(/[\r\t\n]/g,s))&&-1<(s+c+s).indexOf(s+b+s)}function h(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return"value"in c?c.value:c.nodeValue}function a(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var g=k("./api"),n=k("util"),f=document,b=f.documentElement,o=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||
b.msMatchesSelector,y="getElementsByClassName"in f,c=n.isArray,i=n.makeArray,v=g.isDomNodeList,s=" ",w=Array.prototype.push,H=/^\.([\w-]+)$/,C=/^#([\w-]+)$/,I=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,u=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,B=n.trim,p="sourceIndex"in b?function(a,b){return a.sourceIndex-b.sourceIndex}:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1};n.mix(g,{_getElementsByTagName:function(a,
b){return i(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},_getSimpleAttr:h,_isTag:a,_hasSingleClass:e,_matchesInternal:function(a,b){for(var c=[],e=0,d,f=b.length;e<f;e++)d=b[e],o.call(d,a)&&c.push(d);return c},_selectInternal:function(a,b){return i(b.querySelectorAll(a))},query:l,get:function(a,b){return l(a,b)[0]||null},unique:function(){function a(c,e){return c===e?(b=!0,0):p(c,e)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(e){b=c;e.sort(a);
if(b)for(var d=1,f=e.length;d<f;)e[d]===e[d-1]?(e.splice(d,1),--f):d++;return e}}(),filter:function(b,c,d){var b=l(b,d),f,i,j,k,d=[];if("string"===typeof c&&(c=B(c))&&(j=u.exec(c)))f=j[1],i=j[2],k=j[3],f?f&&!i&&!k&&(c=function(a){return h(a,"id")===f}):c=function(b){var c=!0,d=!0;i&&(c=a(b,i));k&&(d=e(b,k));return d&&c};return d="function"===typeof c?n.filter(b,c):g._matchesInternal(c,b)},test:function(a,b,c){a=l(a,c);return a.length&&g.filter(a,b,c).length===a.length}})});
KISSY.add("dom/base/traversal",["util","./api"],function(x,k){function r(e,h,a,g,k,f,b){if(!(e=j.get(e)))return null;if(0===h)return e;f||(e=e[a]);if(!e)return null;k=k&&j.get(k)||null;void 0===h&&(h=1);var f=[],m=d.isArray(h),r,c;"number"===typeof h&&(r=0,c=h,h=function(){return++r===c});for(;e&&e!==k;){if((e.nodeType===l.ELEMENT_NODE||e.nodeType===l.TEXT_NODE&&b)&&t(e,h)&&(!g||g(e)))if(f.push(e),!m)break;e=e[a]}return m?f:f[0]||null}function t(e,h){if(!h)return!0;if(d.isArray(h)){var a,g=h.length;
if(!g)return!0;for(a=0;a<g;a++)if(j.test(e,h[a]))return!0}else if(j.test(e,h))return!0;return!1}function m(e,h,a,g){var k=[],f,b;if((f=e=j.get(e))&&a)f=e.parentNode;if(f){a=d.makeArray(f.childNodes);for(f=0;f<a.length;f++)b=a[f],(g||b.nodeType===l.ELEMENT_NODE)&&b!==e&&k.push(b);h&&(k=j.filter(k,h))}return k}var d=k("util"),j=k("./api"),l=j.NodeType;d.mix(j,{_contains:function(e,d){return!!(e.compareDocumentPosition(d)&16)},closest:function(e,d,a,g){return r(e,d,"parentNode",function(a){return a.nodeType!==
l.DOCUMENT_FRAGMENT_NODE},a,!0,g)},parent:function(e,d,a){return r(e,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},a,void 0)},first:function(e,d,a){e=j.get(e);return r(e&&e.firstChild,d,"nextSibling",void 0,void 0,!0,a)},last:function(e,d,a){e=j.get(e);return r(e&&e.lastChild,d,"previousSibling",void 0,void 0,!0,a)},next:function(e,d,a){return r(e,d,"nextSibling",void 0,void 0,void 0,a)},prev:function(e,d,a){return r(e,d,"previousSibling",void 0,void 0,void 0,a)},siblings:function(e,
d,a){return m(e,d,!0,a)},children:function(e,d){return m(e,d,void 0)},contents:function(e,d){return m(e,d,void 0,1)},contains:function(e,d){e=j.get(e);d=j.get(d);return e&&d?j._contains(e,d):!1},index:function(e,h){var a=j.query(e),g,k=0;g=a[0];if(!h){a=g&&g.parentNode;if(!a)return-1;for(;g=g.previousSibling;)g.nodeType===l.ELEMENT_NODE&&k++;return k}k=j.query(h);return"string"===typeof h?d.indexOf(g,k):d.indexOf(k[0],a)},equals:function(e,d){e=j.query(e);d=j.query(d);if(e.length!==d.length)return!1;
for(var a=e.length;0<=a;a--)if(e[a]!==d[a])return!1;return!0}})});
