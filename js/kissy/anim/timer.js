/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 13 11:40
*/
KISSY.add("anim/timer","dom,util,./base,./timer/easing,./timer/manager,./timer/fx,./timer/color,./timer/transform,./timer/short-hand".split(","),function(h,f,q,l){function g(b,m,a,k,d){if(!(this instanceof g))return new g(b,m,a,k,d);g.superclass.constructor.apply(this,arguments)}var j=f("dom"),e=f("util"),h=f("./base"),c=f("./timer/easing"),b=f("./timer/manager"),n=f("./timer/fx");f("./timer/color");f("./timer/transform");var p=f("./timer/short-hand"),i=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;e.extend(g,
h,{prepareFx:function(){var b=this.node,m=this._propsData;e.each(m,function(a){a.duration=a.duration*1E3;a.delay=a.delay*1E3;if(typeof a.easing==="string")a.easing=c.toFn(a.easing)});e.each(p,function(a,d){var k,c=m[d],f;if(c){f=c.value;k={};e.each(a,function(a){k[a]=j.css(b,a)});j.css(b,d,f);e.each(k,function(a,d){d in m||(m[d]=e.merge(c,{value:j.css(b,d)}));j.css(b,d,a)});delete m[d]}});var a,k,d,g,f,r,h,l=0,s;e.isPlainObject(b)&&(l=1);for(a in m){k=m[a];d=k.value;r={isCustomFx:l,prop:a,anim:this,
fxType:k.fxType,type:k.type,propData:k};h=n.getFx(r);g=d;f=h.cur();d=d+"";s="";if(d=d.match(i)){g=parseFloat(d[2]);if((s=d[3])&&s!=="px"&&f){var q=0,t=g;do{++t;j.css(b,a,t+s);q=h.cur()}while(q===0);f=t/q*f;j.css(b,a,f+s)}d[1]&&(g=(d[1]==="-="?-1:1)*g+f)}r.from=f;r.to=g;r.unit=s;h.load(r);k.fx=h}},frame:function(){var b,m=1,a,k=this._propsData;for(b in k){a=k[b];a=a.fx;a.frame();if(this.isRejected()||this.isResolved())return;m=m&a.pos===1}k=e.now();b=this.config.duration*1E3;k=Math.max(0,this.startTime+
b-k);this.defer.notify([this,1-(k/b||0),k]);m&&this.stop(m)},doStop:function(c){var m,a=this._propsData;b.stop(this);if(c)for(m in a){c=a[m];(c=c.fx)&&c.frame(1)}},doStart:function(){b.start(this)}});g.Easing=c;g.Fx=n;e.mix(g,h.Statics);l.exports=g});
KISSY.add("anim/timer/easing",[],function(h,f,q,l){function g(a){return a}function j(a,b,d,c){var e=3*a-3*d+1,f=3*d-6*a,g=3*a,n=3*b-3*c+1,j=3*c-6*b,p=3*b;return function(a){a:{for(var b=a,d,c,k=0;8>k;k++){c=((e*b+f)*b+g)*b-a;if(m(c)<o){a=b;break a}d=(3*e*b+2*f)*b+g;if(m(d)<o)break;b-=c/d}d=1;k=0;for(b=a;d>k;){c=((e*b+f)*b+g)*b-a;if(m(c)<o)break;0<c?d=b:k=b;b=(d+k)/2}a=b}return((n*a+j)*a+p)*a}}var e=Math.PI,c=Math.pow,b=Math.sin,n=parseFloat,p=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/i,i=
{swing:function(a){return 0.5-Math.cos(a*e)/2},easeNone:g,linear:g,easeIn:function(a){return a*a},ease:j(0.25,0.1,0.25,1),"ease-in":j(0.42,0,1,1),"ease-out":j(0,0,0.58,1),"ease-in-out":j(0.42,0,0.58,1),"ease-out-in":j(0,0.42,1,0.58),toFn:function(a){var b;return(b=a.match(p))?j(n(b[1]),n(b[2]),n(b[3]),n(b[4])):i[a]||g},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*
a*a*a},easeBothStrong:function(a){return 1>(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:0-c(2,10*(a-=1))*b((a-0.075)*2*e/0.3)},elasticOut:function(a){return 0===a||1===a?a:c(2,-10*a)*b((a-0.075)*2*e/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*c(2,10*(a-=1))*b((a-0.1125)*2*e/0.45):0.5*c(2,-10*(a-=1))*b((a-0.1125)*2*e/0.45)+1},backIn:function(a){1===a&&(a-=0.001);return a*a*(2.70158*a-1.70158)},backOut:function(a){return(a-=1)*a*(2.70158*
a+1.70158)+1},backBoth:function(a){var b,d=(b=2.5949095)+1;return 1>(a*=2)?0.5*a*a*(d*a-b):0.5*((a-=2)*a*(d*a+b)+2)},bounceIn:function(a){return 1-i.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*i.bounceIn(2*a):0.5*i.bounceOut(2*a-1)+0.5}},o=1.0E-6,m=Math.abs;l.exports=i});
KISSY.add("anim/timer/manager",["util"],function(h,f,q,l){var g=f("util"),j=g.stamp,e,c;e=function(b){return setTimeout(b,15)};c=function(b){clearTimeout(b)};l.exports={runnings:{},timer:null,start:function(b){var c=j(b);this.runnings[c]||(this.runnings[c]=b,this.startTimer())},stop:function(b){this.notRun(b)},notRun:function(b){delete this.runnings[j(b)];g.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=
this;b.timer||(b.timer=e(function p(){b.runFrames()?b.stopTimer():b.timer=e(p)}))},stopTimer:function(){var b=this.timer;b&&(c(b),this.timer=0)},runFrames:function(){var b,c,e=this.runnings;for(b in e)e[b].frame();for(b in e){c=0;break}return void 0===c}}});
KISSY.add("anim/timer/fx",["util","logger-manager","dom"],function(h,f,q,l){function g(c){j.mix(this,c);this.pos=0;this.unit=this.unit||""}var j=f("util");f("logger-manager");var e=f("dom");g.prototype={isCustomFx:0,constructor:g,load:function(c){j.mix(this,c);this.pos=0;this.unit=this.unit||""},frame:function(c){if(1!==this.pos){var b=this.anim,f=this.prop,g=b.node,i=this.from,o=this.propData,m=this.to;if(void 0===c)var a=j.now(),c=o.duration,a=a-b.startTime-o.delay,c=0>=a?0:a>=c?1:o.easing(a/c);
this.pos=c;i===m||0===c||(this.val=i=this.interpolate(i,m,this.pos),o.frame?o.frame.call(this,b,this):this.isCustomFx||(void 0===i?(this.pos=1,i=m):i+=this.unit,this.val=i,"attr"===this.type?e.attr(g,f,i,1):e.css(g,f,i)))}},interpolate:function(c,b,e){return"number"===typeof c&&"number"===typeof b?Math.round(1E5*(c+(b-c)*e))/1E5:null},cur:function(){var c=this.prop,b,f,g=this.anim.node;if(this.isCustomFx)return g[c]||0;if(!(b=this.type))b=this.type=(!g.style||null==g.style[c])&&null!=e.attr(g,c,void 0,
1)?"attr":"css";c="attr"===b?e.attr(g,c,void 0,1):e.css(g,c);return isNaN(f=parseFloat(c))?!c||"auto"===c?0:c:f}};g.Factories={};g.FxTypes={};g.getFx=function(c){var b=g,e,f;if(e=c.fxType)b=g.FxTypes[e];else if(!c.isCustomFx&&(f=g.Factories[c.prop]))b=f;return new b(c)};l.exports=g});
KISSY.add("anim/timer/color",["logger-manager","util","./fx"],function(h,f,q,l){function g(b){var b=b+"",a;if(a=b.match(p))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];if(a=b.match(i))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10)];if(a=b.match(o)){for(b=1;b<a.length;b++)2>a[b].length&&(a[b]+=a[b]);return[parseInt(a[1],c),parseInt(a[2],c),parseInt(a[3],c)]}return n[b=b.toLowerCase()]?n[b]:[255,255,255]}function j(){j.superclass.constructor.apply(this,
arguments)}f("logger-manager");var h=f("util"),e=f("./fx"),c=16,b=Math.floor,n={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},p=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,i=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,o=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;
h.extend(j,e,{load:function(){j.superclass.load.apply(this,arguments);this.from&&(this.from=g(this.from));this.to&&(this.to=g(this.to))},interpolate:function(c,a,e){var d=j.superclass.interpolate;if(3===c.length&&3===a.length)return"rgb("+[b(d(c[0],a[0],e)),b(d(c[1],a[1],e)),b(d(c[2],a[2],e))].join(", ")+")";if(4===c.length||4===a.length)return"rgba("+[b(d(c[0],a[0],e)),b(d(c[1],a[1],e)),b(d(c[2],a[2],e)),b(d(c[3]||1,a[3]||1,e))].join(", ")+")"}});h.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),
function(b){e.Factories[b]=j});e.FxTypes.color=j;l.exports=j});
KISSY.add("anim/timer/transform",["util","feature","dom","./fx"],function(h,f,q,l){function g(b){b=b.split(/,/);return b=n.map(b,function(b){return e(b)})}function j(){return{translateX:0,translateY:0,rotate:0,skewX:0,skewY:0,scaleX:1,scaleY:1}}function e(b){return Math.round(1E5*parseFloat(b))/1E5}function c(b){for(var b=b.split(")"),c=n.trim,a=-1,f=b.length-1,d,i,h=j();++a<f;)switch(d=b[a].split("("),i=c(d[0]),d=d[1],i){case "translateX":case "translateY":case "scaleX":case "scaleY":h[i]=e(d);break;
case "rotate":case "skewX":case "skewY":var l=e(d);n.endsWith(d,"deg")||(l=180*l/Math.PI);h[i]=l;break;case "translate":case "translate3d":d=d.split(",");h.translateX=e(d[0]);h.translateY=e(d[1]||0);break;case "scale":d=d.split(",");h.scaleX=e(d[0]);h.scaleY=e(d[1]||d[0]);break;case "matrix":return b=d,b=g(b),f=a=c=void 0,i=b[0],h=b[1],d=b[2],l=b[3],i*l-h*d?(c=Math.sqrt(i*i+h*h),f=(i*d+h*l)/(i*l-d*h),a=(i*l-h*d)/c,i*l<h*d&&(f=-f,c=-c)):c=a=f=0,{translateX:e(b[4]),translateY:e(b[5]),rotate:e(180*Math.atan2(h,
i)/Math.PI),skewX:e(180*Math.atan(f)/Math.PI),skewY:0,scaleX:e(c),scaleY:e(a)}}return h}function b(){b.superclass.constructor.apply(this,arguments)}var n=f("util"),h=f("feature"),p=f("dom"),f=f("./fx"),i=h.isTransform3dSupported()?"translate3d({translateX}px,{translateY}px,0)":"translate({translateX}px,{translateY}px)";n.extend(b,f,{load:function(){b.superclass.load.apply(this,arguments);this.from=(this.from=p.style(this.anim.node,"transform")||this.from)&&"none"!==this.from?c(this.from):j();this.to=
this.to?c(this.to):j()},interpolate:function(c,e,a){var f=b.superclass.interpolate,d={};d.translateX=f(c.translateX,e.translateX,a);d.translateY=f(c.translateY,e.translateY,a);d.rotate=f(c.rotate,e.rotate,a);d.skewX=f(c.skewX,e.skewX,a);d.skewY=f(c.skewY,e.skewY,a);d.scaleX=f(c.scaleX,e.scaleX,a);d.scaleY=f(c.scaleY,e.scaleY,a);return n.substitute(i+" rotate({rotate}deg) skewX({skewX}deg) skewY({skewY}deg) scale({scaleX},{scaleY})",d)}});f.Factories.transform=b;l.exports=b});
KISSY.add("anim/timer/short-hand",[],function(h,f,q,l){l.exports={background:["backgroundColor"],border:"borderBottomWidth,borderLeftWidth,borderRightWidth,borderTopWidth,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor".split(","),borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderBottom:["borderBottomWidth","borderBottomColor"],borderLeft:["borderLeftWidth","borderLeftColor"],borderTop:["borderTopWidth","borderTopColor"],borderRight:["borderRightWidth",
"borderRightColor"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]}});
