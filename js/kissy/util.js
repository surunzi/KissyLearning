/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 13 15:33
*/
KISSY.add("util","./util/array,./util/escape,./util/function,./util/object,./util/string,./util/type,./util/json,./util/web,./util/base".split(","),function(m,i,c,g){i("./util/array");i("./util/escape");i("./util/function");i("./util/object");i("./util/string");i("./util/type");i("./util/json");i("./util/web");g.exports=i("./util/base")});
KISSY.add("util/array",["./base"],function(m,i){var c=Array.prototype,g=c.indexOf,e=c.lastIndexOf,d=c.filter,f=c.every,h=c.some,a=i("./base"),b=c.map;a.mix(a,{indexOf:g?function(k,b,a){return void 0===a?g.call(b,k):g.call(b,k,a)}:function(k,b,a){for(var a=a||0,d=b.length;a<d;++a)if(b[a]===k)return a;return-1},lastIndexOf:e?function(k,b,a){return void 0===a?e.call(b,k):e.call(b,k,a)}:function(k,b,a){for(void 0===a&&(a=b.length-1);0<=a&&b[a]!==k;a--);return a},unique:function(k,b){var d=k.slice();b&&
d.reverse();for(var c=0,f,e;c<d.length;){for(e=d[c];(f=a.lastIndexOf(e,d))!==c;)d.splice(f,1);c+=1}b&&d.reverse();return d},inArray:function(b,d){return-1<a.indexOf(b,d)},filter:d?function(b,a,c){return d.call(b,a,c||this)}:function(b,d,c){var f=[];a.each(b,function(b,a,k){d.call(c||this,b,a,k)&&f.push(b)});return f},map:b?function(a,d,c){return b.call(a,d,c||this)}:function(b,a,d){for(var c=b.length,f=Array(c),e=0;e<c;e++){var h="string"===typeof b?b.charAt(e):b[e];if(h||e in b)f[e]=a.call(d||this,
h,e,b)}return f},reduce:function(b,a,d){var c=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===c&&2===arguments.length)throw new TypeError("arguments invalid");var e=0,f;if(3<=arguments.length)f=d;else{do{if(e in b){f=b[e++];break}e+=1;if(e>=c)throw new TypeError;}while(1)}for(;e<c;)e in b&&(f=a.call(void 0,f,b[e],e,b)),e++;return f},every:f?function(b,a,d){return f.call(b,a,d||this)}:function(b,a,d){for(var c=b&&b.length||0,e=0;e<c;e++)if(e in b&&!a.call(d,
b[e],e,b))return!1;return!0},some:h?function(b,a,d){return h.call(b,a,d||this)}:function(b,a,d){for(var e=b&&b.length||0,c=0;c<e;c++)if(c in b&&a.call(d,b[c],c,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(a.isArray(b))return b;var d=typeof b.length,c=typeof b;if("number"!==d||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===c||"function"===c&&!("item"in b&&"number"===d))return[b];for(var d=[],c=0,e=b.length;c<e;c++)d[c]=b[c];return d}})});
KISSY.add("util/base",[],function(m,i,c,g){var e=0;g.exports={mix:function(d,c){for(var e in c)d[e]=c[e];return d},guid:function(c){return(c||"")+e++}}});
KISSY.add("util/escape",["./base"],function(m,i){var c=i("./base"),g={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},e={},d,f,h=/[&<>"'`]/,a=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var b in g)e[g[b]]=b})();d=function(){var b="",a;for(a in g)b+=g[a]+"|";b=b.slice(0,-1);return d=RegExp(b,"g")}();f=function(){var b="",a;for(a in e)b+=e[a]+"|";return f=RegExp(b+"&#(\\d{1,5});","g")}();c.mix(c,{escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!h.test(b)?
b:(b+"").replace(d,function(b){return e[b]})},escapeRegExp:function(b){return b.replace(a,"\\$&")},unEscapeHtml:function(b){return b.replace(f,function(b,a){return g[b]||String.fromCharCode(+a)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",["./base"],function(m,i){function c(c,d,f){function h(){}var a=[].slice,b=a.call(arguments,3),k=function(){var k=a.call(arguments);return d.apply(this instanceof h?this:f||this,c?k.concat(b):b.concat(k))};h.prototype=d.prototype;k.prototype=new h;return k}var g=i("./base");g.mix(g,{noop:function(){},bind:c(0,c,null,0),rbind:c(0,c,null,1),later:function(c,d,f,h,a){var d=d||0,b=c,k=g.makeArray(a),i;"string"===typeof c&&(b=h[c]);b||g.error("method undefine");c=function(){b.apply(h,
k)};i=f?setInterval(c,d):setTimeout(c,d);return{id:i,interval:f,cancel:function(){this.interval?clearInterval(i):clearTimeout(i)}}},throttle:function(c,d,f){d=d||150;if(-1===d)return function(){c.apply(f||this,arguments)};var h=g.now();return function(){var a=g.now();a-h>d&&(h=a,c.apply(f||this,arguments))}},buffer:function(c,d,f){function h(){h.stop();a=g.later(c,d,0,f||this,arguments)}d=d||150;if(-1===d)return function(){c.apply(f||this,arguments)};var a=null;h.stop=function(){a&&(a.cancel(),a=
0)};return h}})});
KISSY.add("util/object",["./base","logger-manager"],function(m,i){function c(b,a){return null!==b&&void 0!==b&&void 0!==b[a]}function g(b,a,c){delete b[n];delete a[n];return c}function e(a,l){if(a[n]===l&&l[n]===a)return!0;a[n]=l;l[n]=a;for(var d in l)if(!c(a,d)&&c(l,d))return g(a,l,!1);for(d in a)if(!c(l,d)&&c(a,d))return g(a,l,!1);for(d in l)if(d!==n&&!b.equals(a[d],l[d]))return g(a,l,!1);return b.isArray(a)&&b.isArray(l)&&a.length!==l.length?g(a,l,!1):g(a,l,!0)}function d(){}function f(a,c,d,j,
w,e){if(!c||!a)return a;var h,g,i,o;c[k]=a;e.push(c);i=b.keys(c);o=i.length;for(h=0;h<o;h++)if(g=i[h],g!==k){var n=a,m=c,t=d,r=j,s=w,v=e;if(t||!(g in n)||s){var u=n[g],q=m[g];if(u===q)u===p&&(n[g]=u);else if(r&&(q=r.call(m,g,q)),s&&q&&(b.isArray(q)||b.isPlainObject(q)))q[k]?n[g]=q[k]:(m=u&&(b.isArray(u)||b.isPlainObject(u))?u:b.isArray(q)?[]:{},n[g]=m,f(m,q,t,r,!0,v));else if(q!==p&&(t||!(g in n)))n[g]=q}}return a}function h(b,a){return"constructor"===b?p:a}function a(c,d,e){var j=c,w,f,g,h;if(!c)return j;
if(c[o])return e[c[o]].destination;if("object"===typeof c){h=c.constructor;if(b.inArray(h,[Boolean,String,Number,Date,RegExp]))j=new h(c.valueOf());else if(w=b.isArray(c))j=d?b.filter(c,d):c.concat();else if(f=b.isPlainObject(c))j={};c[o]=h=b.guid("c");e[h]={destination:j,input:c}}if(w)for(c=0;c<j.length;c++)j[c]=a(j[c],d,e);else if(f)for(g in c)if(g!==o&&(!d||!1!==d.call(c,c[g],g,c)))j[g]=a(c[g],d,e);return j}var b=i("./base");i("logger-manager");var k="__MIX_CIRCULAR",t="undefined"===typeof window?
global:window,p,o="__~ks_cloned",x={}.toString,n="__~ks_compared",r=Object.create,v=!{toString:1}.propertyIsEnumerable("toString"),s="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(b,a){for(var c in a)b[c]=a[c]})(b,{equals:function(b,a){return b===a?!0:b===p||null===b||a===p||null===a?null==b&&null==a:b instanceof Date&&a instanceof Date?b.getTime()===a.getTime():"string"===typeof b&&"string"===typeof a||"number"===typeof b&&"number"===
typeof a?b===a:"object"===typeof b&&"object"===typeof a?e(b,a):b===a},keys:Object.keys||function(b){var a=[],c,d;for(c in b)b.hasOwnProperty(c)&&a.push(c);if(v)for(d=s.length-1;0<=d;d--)c=s[d],b.hasOwnProperty(c)&&a.push(c);return a},each:function(a,c,d){if(a){var j,e,f=0;j=a&&a.length;e=j===p||"[object Function]"===x.call(a);d=d||null;if(e)for(e=b.keys(a);f<e.length&&!(j=e[f],!1===c.call(d,a[j],j,a));f++);else for(e=a[0];f<j&&!1!==c.call(d,e,f,a);e=a[++f]);}return a},now:Date.now||function(){return+new Date},
isEmptyObject:function(b){for(var a in b)if(a!==p)return!1;return!0},stamp:function(a,c,d){var d=d||"__~ks_stamped",j=a[d];if(!j&&!c)try{j=a[d]=b.guid(d)}catch(e){j=p}return j},mix:function(a,c,d,j,e){"object"===typeof d&&(j=d.whitelist,e=d.deep,d=d.overwrite);if(j&&"function"!==typeof j)var g=j,j=function(a,c){return b.inArray(a,g)?c:p};d===p&&(d=!0);var h=[],i=0;for(f(a,c,d,j,e,h);c=h[i++];)delete c[k];return a},merge:function(a){var a=b.makeArray(arguments),c={},d,j=a.length;for(d=0;d<j;d++)b.mix(c,
a[d]);return c},augment:function(a,c){var d=b.makeArray(arguments),j=d.length-2,e=1,f,g,k=d[j],i=d[j+1];d[1]=c;b.isArray(i)||(k=i,i=p,j++);"boolean"!==typeof k&&(k=p,j++);for(;e<j;e++){g=d[e];if(f=g.prototype)g=b.mix({},f,!0,h);b.mix(a.prototype,g,k,i)}return a},extend:function(a,c,e,j){var f=c.prototype;f.constructor=c;r?c=r(f):(d.prototype=f,c=new d);c.constructor=a;a.prototype=b.mix(c,a.prototype);a.superclass=f;e&&b.mix(c,e);j&&b.mix(a,j);return a},namespace:function(a,b){var c,d,e;e=a.split(".");
c=b||t;for(d=0;d<e.length;++d)c=c[e[d]]=c[e[d]]||{};return c},clone:function(c,d){var e={},j=a(c,d,e);b.each(e,function(a){a=a.input;if(a[o])try{delete a[o]}catch(b){a[o]=void 0}});e=null;return j}})});
KISSY.add("util/string",["./base"],function(m,i){function c(a,b){return b.toUpperCase()}var g=i("./base"),e=/\\?\{([^{}]+)\}/g,d=/^[\s\xa0]+|[\s\xa0]+$/g,f=String.prototype.trim,h=/-([a-z])/gi;g.mix(g,{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:f?function(a){return null==a?"":f.call(a)}:function(a){return null==a?"":(a+"").replace(d,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g,
" "))},camelCase:function(a){return a.replace(h,c)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||e,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",["./base"],function(m,i){var c=i("./base"),g={},e=Object.prototype,d=e.toString;c.mix(c,{type:function(a){return null==a?""+a:g[d.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||a.window==a)return!1;var b,d;try{if((d=a.constructor)&&!e.hasOwnProperty.call(a,"constructor")&&!e.hasOwnProperty.call(d.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(b in a);return void 0===b||e.hasOwnProperty.call(a,b)}});for(var f="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
h=0;h<f.length;h++)(function(a,b){g["[object "+a+"]"]=b=a.toLowerCase();c["is"+a]=function(a){return c.type(a)===b}})(f[h],h);c.isArray=Array.isArray||c.isArray});
KISSY.add("util/json",["./base"],function(m,i){var c=i("./base"),g=/^[\],:{}\s]*$/,e=/(?:^|:|,)(?:\s*\[)+/g,d=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,f=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;c.parseJson=function(h){return null===h?h:"string"===typeof h&&(h=c.trim(h))&&g.test(h.replace(d,"@").replace(f,"]").replace(e,""))?(new Function("return "+h))():c.error("Invalid Json: "+h)}});
KISSY.add("util/web",["./base","logger-manager"],function(m,i){function c(){if(!a){d&&d.setTimeout&&l(d,v,c);a=1;for(var e=0;e<b.length;e++)try{b[e](KISSY)}catch(f){setTimeout(function(){throw f;},0)}}}function g(){if(!f||f.readyState===s)c();else if(y(d,v,c),o){var a=function(){l(f,n,a);c()};y(f,n,a)}else{var b=function(){f.readyState===s&&(l(f,r,b),c())};y(f,r,b);var e,g=h&&h.doScroll;try{e=null===d.frameElement}catch(i){e=!1}if(g&&e){var m=function(){try{g("left"),c()}catch(a){setTimeout(m,k)}};
m()}}}var e=i("./base");i("logger-manager");var d="undefined"!==typeof window?window:{},f=d.document||{},h=f.documentElement,a=0,b=[],k=40,t=/^#?([\w-]+)$/,p=/\S/,o=f.addEventListener,x=f.attachEvent||o,n="DOMContentLoaded",r="readystatechange",v="load",s="complete",y=o?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},l=o?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};e.mix(e,{isWindow:function(a){return null!=a&&a==a.window},
parseXml:function(a){if(a.documentElement)return a;var b;try{d.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+a);return b},globalEval:function(a){a&&p.test(a)&&(d.execScript?d.execScript(a):d.eval.call(d,a))},ready:function(c){if(a)try{c(KISSY)}catch(d){setTimeout(function(){throw d;},0)}else b.push(c);return this},
available:function(a,b){var a=(a+"").match(t)[1],c=1,d=e.later(function(){if(500<++c)d.cancel();else{var e=f.getElementById(a);e&&(b(e),d.cancel())}},k,!0)}});e.parseXML=e.parseXml;x&&g();try{f.execCommand("BackgroundImageCache",!1,!0)}catch(z){}});
