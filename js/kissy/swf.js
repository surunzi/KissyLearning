/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 13 16:28
*/
KISSY.add("swf",["dom","json","attribute","swf/ua","util"],function(w,g,j,x){function r(a){var d=e;l.each(a,function(a,c){c=c.toLowerCase();c in B?d+=k(c,a):c===C&&(d+=k(c,s(a)))});return d}function m(a,d,i,c){var b=e,f=e;l.each(d,function(a,c){b+=" "+c+'="'+a+'"'});c?(b+=' classid="'+D+'"',f+=k("movie",a)):(b+=' data="'+a+'"',b+=' type="'+n+'"');f+=r(i);return t+u+b+v+f}function s(a){var d=[];l.each(a,function(a,c){"string"!==typeof a&&(a=y.stringify(a));a&&d.push(c+"="+E(a))});return d.join("&")}
function k(a,d){return'<param name="'+a+'" value="'+d+'"></param>'}var b=g("dom"),y=g("json"),w=g("attribute"),j=g("swf/ua"),l=g("util"),o="./swf/assets/expressInstall.swf";"undefined"!==typeof KISSY&&KISSY.DEV_MODE&&(o="../assets/expressInstall.swf");var h=!!window.ActiveXObject,n="application/x-shockwave-flash",D="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",C="flashvars",e="",t="<",v=">",F=document,z=j.fpv,G=j.fpvGEQ,A=j.fpvGTE,u="object",E=encodeURIComponent,B={wmode:e,allowscriptaccess:e,allownetworking:e,
allowfullscreen:e,play:"false",loop:e,menu:e,quality:e,scale:e,salign:e,bgcolor:e,devicefont:e,hasPriority:e,base:e,swliveconnect:e,seamlesstabbing:e},q;q=w.extend({constructor:function(a){this.callSuper(a);var d=this.get("expressInstall"),i,c,e,a=this.get("htmlMode");c=this.get("params");var f=this.get("attrs"),o=this.get("document"),g=b.create("<span>",void 0,o),k=this.get("elBefore"),p=this.get("src"),j=!("id"in f),n=this.get("version");e=f.id=f.id||l.guid("ks-swf-");j&&(i=RegExp("\\s+id\\s*=\\s*['\"]?"+
l.escapeRegExp(e)+"['\"]?","i"));if(z()){if(n&&!A(n)&&(this.set("status",q.Status.TOO_LOW),d)){p=d;if(!("width"in f)||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if(!("height"in f)||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";d=c.flashVars=c.flashVars||{};l.mix(d,{MMredirectURL:location.href,MMplayerType:h?"ActiveX":"PlugIn",MMdoctitle:o.title.slice(0,47)+" - Flash Player Installation"})}"full"===a?(h?(d=m(p,f,c,1),delete f.id,delete f.style,n=m(p,f,c,0)):(n=m(p,
f,c,0),delete f.id,delete f.style,d=m(p,f,c,1)),c=d+n+t+"/"+u+v+t+"/"+u+v):c=m(p,f,c,h)+t+"/"+u+v;this.set("html",i?c.replace(i,""):c);k?b.insertBefore(g,k):b.append(g,this.get("render"));"outerHTML"in g?g.outerHTML=c:g.parentNode.replaceChild(b.create(c),g);i=b.get("#"+e,o);"full"===a?h?this.set("swfObject",i):this.set("swfObject",i.parentNode):this.set("swfObject",i);j&&b.removeAttr(i,"id");this.set("el",i);this.get("status")||this.set("status",q.Status.SUCCESS)}else this.set("status",q.Status.NOT_INSTALLED)},
callSWF:function(a,d){var b=this.get("el"),c,d=d||[];try{b[a]&&(c=b[a].apply(b,d))}catch(e){c="",0!==d.length&&(c='"'+d.join('", "')+'"'),c=(new Function("swf","return swf."+a+"("+c+");"))(b)}return c},destroy:function(){var a=this.get("swfObject");h?(a.style.display="none",function i(){if(4===a.readyState){for(var c in a)"function"===typeof a[c]&&(a[c]=null);a.parentNode.removeChild(a)}else setTimeout(i,10)}()):a.parentNode.removeChild(a)}},{ATTRS:{expressInstall:{value:g.toUrl(o)},src:{},version:{value:"9"},
params:{value:{}},attrs:{value:{}},render:{setter:function(a){"string"===typeof a&&(a=b.get(a,this.get("document")));return a},valueFn:function(){return document.body}},elBefore:{setter:function(a){"string"===typeof a&&(a=b.get(a,this.get("document")));return a}},document:{value:F},status:{},el:{},swfObject:{},html:{},htmlMode:{value:"default"}},getSrc:function(a){var d=a=b.get(a),e="",c,a=[],e=b.nodeName(d);if("object"===e){(e=b.attr(d,"data"))&&a.push(d);d=d.childNodes;for(e=0;e<d.length;e++)c=
d[e],1===c.nodeType&&("movie"===(b.attr(c,"name")||"").toLowerCase()?a.push(c):"embed"===b.nodeName(c)?a.push(c):"object"===b.nodeName(d[e])&&a.push(c))}else"embed"===e&&a.push(d);d=(a=a[0])&&b.nodeName(a);return"embed"===d?b.attr(a,"src"):"object"===d?b.attr(a,"data"):"param"===d?b.attr(a,"value"):null},Status:{TOO_LOW:"flash version is too low",NOT_INSTALLED:"flash is not installed",SUCCESS:"success"},HtmlMode:{DEFAULT:"default",FULL:"full"},fpv:z,fpvGEQ:G,fpvGTE:A});x.exports=q});
KISSY.add("swf/ua",["util"],function(w,g,j,x){function r(b){var h="string"===typeof b?b.match(/\d+/g).splice(0,3):b;l.isArray(h)&&(b=parseFloat(h[0]+"."+m(h[1],3)+m(h[2],5)));return b||0}function m(b,h){var b=(b||0)+"",g=h+1-b.length;return Array(0<g?g:0).join("0")+b}function s(g){if(g||b){b=!1;var h;if(navigator.plugins&&navigator.mimeTypes.length)h=(navigator.plugins["Shockwave Flash"]||0).description;else try{h=(new y.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(j){}k=
!h?void 0:h.match(/\d+/g).splice(0,3)}return k}var k,b=!0,y=window,l=g("util");x.exports={fpv:s,fpvGTE:function(b,g){return r(s(g))>=r(b)}}});
