/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 13 11:50
*/
KISSY.add("event/base",["./base/utils","./base/observer","./base/observable","./base/object"],function(h,e,j,i){var h=e("./base/utils"),j=e("./base/observer"),b=e("./base/observable");i.exports={Utils:h,Object:e("./base/object"),Observer:j,Observable:b}});
KISSY.add("event/base/utils",["util"],function(h,e,j,i){function b(a){if(0>a.indexOf("."))return[a,""];var d=a.match(/([^.]+)?(\..+)?$/),a=[d[1]];(d=d[2])?(d=d.split(".").sort(),a.push(d.join("."))):a.push("");return a}var f,g,c=e("util");i.exports={splitAndRun:f=function(a,d){c.isArray(a)?c.each(a,d):(a=c.trim(a),-1===a.indexOf(" ")?d(a):c.each(a.split(/\s+/),d))},normalizeParam:function(a,d,g){var k=d||{},k="function"===typeof d?{fn:d,context:g}:c.merge(k),d=b(a),a=d[0];k.groups=d[1];k.type=a;return k},
batchForType:function(a,d){var g=c.makeArray(arguments),b=g[2+d];b&&c.isObject(b)?c.each(b,function(c,b){var e=[].concat(g);e.splice(0,2);e[d]=b;e[d+1]=c;a.apply(null,e)}):f(b,function(c){var b=[].concat(g);b.splice(0,2);b[d]=c;a.apply(null,b)})},fillGroupsForEvent:function(a,c){var e=b(a),f=e[1];f&&(f=g(f),c._ksGroups=f);c.type=e[0]},getGroupsRe:g=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/observer",["util"],function(h,e,j,i){function b(g){f.mix(this,g)}var f=e("util");b.prototype={constructor:b,equals:function(g){var c=this;return!!f.reduce(c.keys,function(a,b){return a&&c[b]===g[b]},1)},simpleNotify:function(b,c){var a;a=this.fn.call(this.context||c.currentTarget,b,this.data);this.once&&c.removeObserver(this);return a},notifyInternal:function(b,c){var a=this.simpleNotify(b,c);!1===a&&b.halt();return a},notify:function(b,c){var a=b._ksGroups;return a&&(!this.groups||
!this.groups.match(a))?void 0:this.notifyInternal(b,c)}};i.exports=b});
KISSY.add("event/base/observable",["util"],function(h,e,j,i){function b(b){this.currentTarget=null;f.mix(this,b);this.reset()}var f=e("util");b.prototype={constructor:b,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(b){var c,a=this.observers,d=a.length;for(c=0;c<d;c++)if(a[c]===b){a.splice(c,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(b){var c=this.observers,a;for(a=c.length-1;0<=a;--a)if(b.equals(c[a]))return a;
return-1}};i.exports=b});
KISSY.add("event/base/object",["util"],function(h,e,j,i){function b(){this.timeStamp=c.now();this.currentTarget=this.target=g}var h=function(){return!1},f=function(){return!0},g,c=e("util");b.prototype={isEventObject:1,constructor:b,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){this.isDefaultPrevented=f},stopPropagation:function(){this.isPropagationStopped=f},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=f;this.stopPropagation()},
halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};i.exports=b});
