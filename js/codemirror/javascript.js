CodeMirror.defineMode("javascript",function(a,b){function c(a){for(var b,c=!1,d=!1;null!=(b=a.next());){if(!c){if("/"==b&&!d)return;"["==b?d=!0:d&&"]"==b&&(d=!1)}c=!c&&"\\"==b}}function d(a,b,c){return mb=a,nb=c,b}function e(a,b){var e=a.next();if('"'==e||"'"==e)return b.tokenize=f(e),b.tokenize(a,b);if("."==e&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return d("number","number");if("."==e&&a.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(e))return d(e);if("="==e&&a.eat(">"))return d("=>","operator");if("0"==e&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),d("number","number");if(/\d/.test(e))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),d("number","number");if("/"==e)return a.eat("*")?(b.tokenize=g,g(a,b)):a.eat("/")?(a.skipToEnd(),d("comment","comment")):"operator"==b.lastType||"keyword c"==b.lastType||"sof"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)?(c(a),a.eatWhile(/[gimy]/),d("regexp","string-2")):(a.eatWhile(tb),d("operator","operator",a.current()));if("`"==e)return b.tokenize=h,h(a,b);if("#"==e)return a.skipToEnd(),d("error","error");if(tb.test(e))return a.eatWhile(tb),d("operator","operator",a.current());a.eatWhile(/[\w\$_]/);var i=a.current(),j=sb.propertyIsEnumerable(i)&&sb[i];return j&&"."!=b.lastType?d(j.type,j.style,i):d("variable","variable",i)}function f(a){return function(b,c){for(var f,g=!1;null!=(f=b.next())&&(f!=a||g);)g=!g&&"\\"==f;return g||(c.tokenize=e),d("string","string")}}function g(a,b){for(var c,f=!1;c=a.next();){if("/"==c&&f){b.tokenize=e;break}f="*"==c}return d("comment","comment")}function h(a,b){for(var c,f=!1;null!=(c=a.next());){if(!f&&("`"==c||"$"==c&&a.eat("{"))){b.tokenize=e;break}f=!f&&"\\"==c}return d("quasi","string-2",a.current())}function i(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("=>",a.start);if(!(0>c)){for(var d=0,e=!1,f=c-1;f>=0;--f){var g=a.string.charAt(f),h=ub.indexOf(g);if(h>=0&&3>h){if(!d){++f;break}if(0==--d)break}else if(h>=3&&6>h)++d;else if(/[$\w]/.test(g))e=!0;else if(e&&!d){++f;break}}e&&!d&&(b.fatArrowAt=f)}}function j(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function k(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0;for(var d=a.context;d;d=d.prev)for(var c=d.vars;c;c=c.next)if(c.name==b)return!0}function l(a,b,c,d,e){var f=a.cc;for(wb.state=a,wb.stream=e,wb.marked=null,wb.cc=f,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){var g=f.length?f.pop():qb?v:u;if(g(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return wb.marked?wb.marked:"variable"==c&&k(a,d)?"variable-2":b}}}function m(){for(var a=arguments.length-1;a>=0;a--)wb.cc.push(arguments[a])}function n(){return m.apply(null,arguments),!0}function o(a){function c(b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}var d=wb.state;if(d.context){if(wb.marked="def",c(d.localVars))return;d.localVars={name:a,next:d.localVars}}else{if(c(d.globalVars))return;b.globalVars&&(d.globalVars={name:a,next:d.globalVars})}}function p(){wb.state.context={prev:wb.state.context,vars:wb.state.localVars},wb.state.localVars=xb}function q(){wb.state.localVars=wb.state.context.vars,wb.state.context=wb.state.context.prev}function r(a,b){var c=function(){var c=wb.state,d=c.indented;"stat"==c.lexical.type&&(d=c.lexical.indented),c.lexical=new j(d,wb.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function s(){var a=wb.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function t(a){return function(b){return b==a?n():";"==a?m():n(arguments.callee)}}function u(a,b){return"var"==a?n(r("vardef",b.length),Q,t(";"),s):"keyword a"==a?n(r("form"),v,u,s):"keyword b"==a?n(r("form"),u,s):"{"==a?n(r("}"),N,s):";"==a?n():"if"==a?n(r("form"),v,u,s,V):"function"==a?n(_):"for"==a?n(r("form"),W,u,s):"variable"==a?n(r("stat"),G):"switch"==a?n(r("form"),v,r("}","switch"),t("{"),N,s,s):"case"==a?n(v,t(":")):"default"==a?n(t(":")):"catch"==a?n(r("form"),p,t("("),ab,t(")"),u,s,q):"module"==a?n(r("form"),p,eb,q,s):"class"==a?n(r("form"),bb,db,s):"export"==a?n(r("form"),fb,s):"import"==a?n(r("form"),gb,s):m(r("stat"),v,t(";"),s)}function v(a){return x(a,!1)}function w(a){return x(a,!0)}function x(a,b){if(wb.state.fatArrowAt==wb.stream.start){var c=b?F:E;if("("==a)return n(p,r(")"),L(R,")"),s,t("=>"),c,q);if("variable"==a)return m(p,R,t("=>"),c,q)}var d=b?B:A;return vb.hasOwnProperty(a)?n(d):"function"==a?n(_):"keyword c"==a?n(b?z:y):"("==a?n(r(")"),y,lb,t(")"),s,d):"operator"==a||"spread"==a?n(b?w:v):"["==a?n(r("]"),jb,s,d):"{"==a?M(I,"}",null,d):n()}function y(a){return a.match(/[;\}\)\],]/)?m():m(v)}function z(a){return a.match(/[;\}\)\],]/)?m():m(w)}function A(a,b){return","==a?n(v):B(a,b,!1)}function B(a,b,c){var d=0==c?A:B,e=0==c?v:w;return"=>"==b?n(p,c?F:E,q):"operator"==a?/\+\+|--/.test(b)?n(d):"?"==b?n(v,t(":"),e):n(e):"quasi"==a?(wb.cc.push(d),C(b)):";"!=a?"("==a?M(w,")","call",d):"."==a?n(H,d):"["==a?n(r("]"),y,t("]"),s,d):void 0:void 0}function C(a){return"${"!=a.slice(a.length-2)?n():n(v,D)}function D(a){return"}"==a?(wb.marked="string-2",wb.state.tokenize=h,n()):void 0}function E(a){return i(wb.stream,wb.state),m("{"==a?u:v)}function F(a){return i(wb.stream,wb.state),m("{"==a?u:w)}function G(a){return":"==a?n(s,u):m(A,t(";"),s)}function H(a){return"variable"==a?(wb.marked="property",n()):void 0}function I(a,b){if("variable"==a){if(wb.marked="property","get"==b||"set"==b)return n(J)}else if("number"==a||"string"==a)wb.marked=a+" property";else if("["==a)return n(v,t("]"),K);return vb.hasOwnProperty(a)?n(K):void 0}function J(a){return"variable"!=a?m(K):(wb.marked="property",n(_))}function K(a){return":"==a?n(w):"("==a?m(_):void 0}function L(a,b){function c(d){if(","==d){var e=wb.state.lexical;return"call"==e.info&&(e.pos=(e.pos||0)+1),n(a,c)}return d==b?n():n(t(b))}return function(d){return d==b?n():m(a,c)}}function M(a,b,c){for(var d=3;d<arguments.length;d++)wb.cc.push(arguments[d]);return n(r(b,c),L(a,b),s)}function N(a){return"}"==a?n():m(u,N)}function O(a){return rb&&":"==a?n(P):void 0}function P(a){return"variable"==a?(wb.marked="variable-3",n()):void 0}function Q(){return m(R,O,T,U)}function R(a,b){return"variable"==a?(o(b),n()):"["==a?M(R,"]"):"{"==a?M(S,"}"):void 0}function S(a,b){return"variable"!=a||wb.stream.match(/^\s*:/,!1)?("variable"==a&&(wb.marked="property"),n(t(":"),R,T)):(o(b),n(T))}function T(a,b){return"="==b?n(w):void 0}function U(a){return","==a?n(Q):void 0}function V(a,b){return"keyword b"==a&&"else"==b?n(r("form"),u,s):void 0}function W(a){return"("==a?n(r(")"),X,t(")"),s):void 0}function X(a){return"var"==a?n(Q,t(";"),Z):";"==a?n(Z):"variable"==a?n(Y):m(v,t(";"),Z)}function Y(a,b){return"in"==b||"of"==b?(wb.marked="keyword",n(v)):n(A,Z)}function Z(a,b){return";"==a?n($):"in"==b||"of"==b?(wb.marked="keyword",n(v)):m(v,t(";"),$)}function $(a){")"!=a&&n(v)}function _(a,b){return"*"==b?(wb.marked="keyword",n(_)):"variable"==a?(o(b),n(_)):"("==a?n(p,r(")"),L(ab,")"),s,u,q):void 0}function ab(a){return"spread"==a?n(ab):m(R,O)}function bb(a,b){return"variable"==a?(o(b),n(cb)):void 0}function cb(a,b){return"extends"==b?n(v):void 0}function db(a){return"{"==a?M(I,"}"):void 0}function eb(a,b){return"string"==a?n(u):"variable"==a?(o(b),n(ib)):void 0}function fb(a,b){return"*"==b?(wb.marked="keyword",n(ib,t(";"))):"default"==b?(wb.marked="keyword",n(v,t(";"))):m(u)}function gb(a){return"string"==a?n():m(hb,ib)}function hb(a,b){return"{"==a?M(hb,"}"):("variable"==a&&o(b),n())}function ib(a,b){return"from"==b?(wb.marked="keyword",n(v)):void 0}function jb(a){return"]"==a?n():m(w,kb)}function kb(a){return"for"==a?m(lb,t("]")):","==a?n(L(w,"]")):m(L(w,"]"))}function lb(a){return"for"==a?n(W,lb):"if"==a?n(v,lb):void 0}var mb,nb,ob=a.indentUnit,pb=b.statementIndent,qb=b.json,rb=b.typescript,sb=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},g={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":a("this"),module:a("module"),"class":a("class"),"super":a("atom"),"yield":d,"export":a("export"),"import":a("import"),"extends":d};if(rb){var h={type:"variable",style:"variable-3"},i={"interface":a("interface"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),string:h,number:h,bool:h,any:h};for(var j in i)g[j]=i[j]}return g}(),tb=/[+\-*&%=<>!?|~^]/,ub="([{}])",vb={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},wb={state:null,column:null,marked:null,cc:null},xb={name:"this",next:{name:"arguments"}};return s.lex=!0,{startState:function(a){var c={tokenize:e,lastType:"sof",cc:[],lexical:new j((a||0)-ob,0,"block",!1),localVars:b.localVars,context:b.localVars&&{vars:b.localVars},indented:0};return b.globalVars&&(c.globalVars=b.globalVars),c},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation(),i(a,b)),b.tokenize!=g&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==mb?c:(b.lastType="operator"!=mb||"++"!=nb&&"--"!=nb?mb:"incdec",l(b,c,mb,nb,a))},indent:function(a,c){if(a.tokenize==g)return CodeMirror.Pass;if(a.tokenize!=e)return 0;for(var d=c&&c.charAt(0),f=a.lexical,h=a.cc.length-1;h>=0;--h){var i=a.cc[h];if(i==s)f=f.prev;else if(i!=V)break}"stat"==f.type&&"}"==d&&(f=f.prev),pb&&")"==f.type&&"stat"==f.prev.type&&(f=f.prev);var j=f.type,k=d==j;return"vardef"==j?f.indented+("operator"==a.lastType||","==a.lastType?f.info+1:0):"form"==j&&"{"==d?f.indented:"form"==j?f.indented+ob:"stat"==j?f.indented+("operator"==a.lastType||","==a.lastType?pb||ob:0):"switch"!=f.info||k||0==b.doubleIndentSwitch?f.align?f.column+(k?0:1):f.indented+(k?0:ob):f.indented+(/^(?:case|default)\b/.test(c)?ob:2*ob)},electricChars:":{}",blockCommentStart:qb?null:"/*",blockCommentEnd:qb?null:"*/",lineComment:qb?null:"//",fold:"brace",helperType:qb?"json":"javascript",jsonMode:qb}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});